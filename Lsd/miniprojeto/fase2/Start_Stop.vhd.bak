library IEEE;
use IEEE.STD_LOGIC_1164.all;

entity Start_Stop is
	port( pressed1 : in std_logic;
			 stop1   : in std_logic;
       	 clk1    : in std_logic;
			 stout1  : out std_logic);
end Start_Stop;

architecture Behavioral of Start_Stop is

signal s_stop1 : std_logic := '0';
signal s_cont1 : std_logic := '0';
signal s_ver : std_logic := '0';


begin

stout1 <= s_stop1;

	process(clk1,pressed1)
	begin
		if (rising_edge(clk1)) then
      if ((stop1 = '1') and (s_ver = '0')) then
				s_stop1 <= '0';
				s_ver <= '1';
		elsif (stop1 = '0') then
				s_ver <= '0';
		end if;
      if((pressed1 = '1') and (s_cont1 = '0')) then
      	s_stop1 <= not s_stop1;
			s_cont1 <= '1';
		elsif(pressed1 = '0') then
			s_cont1 <= '0';
			end if;
      --stout1 <= s_stop1;
		end if;
	end process;

end Behavioral;

--Depois desligamos o stop no bloco principal quando o sinal reset estiver desligado ou quando o
--contador for diferente de 00:00